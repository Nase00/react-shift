{"version":3,"sources":["arrow.jsx","react-shift.jsx","touch-handler.js"],"names":[],"mappings":"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","file":"react-shift.js","sourcesContent":["import React, { PropTypes } from 'react';\n\nconst Arrow = ({ fakeLink, onClick, label, className, style }) => (\n  <a\n    className={className}\n    style={style}\n    href={fakeLink ? '#' : null}\n    onClick={onClick}>\n      {label}\n  </a>\n);\n\nArrow.propTypes = {\n  onClick: PropTypes.func,\n  label: PropTypes.string,\n  className: PropTypes.string,\n  style: PropTypes.object\n};\n\nexport default Arrow;\n","/* eslint react/no-did-mount-set-state:0 */\nimport React, { Component, PropTypes } from 'react';\nimport ReactCSSTransitionGroup from 'react-addons-css-transition-group';\n\nimport Arrow from './arrow.jsx';\nimport touchHandler from './touch-handler';\n\n\nexport default class ReactShift extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      page: 0,\n      pageCount: 0\n    };\n\n    this.next = this.next.bind(this);\n    this.previous = this.previous.bind(this);\n    this.setPage = this.setPage.bind(this);\n    this.handleWheel = this.handleWheel.bind(this);\n    this.handleTouch = this.handleTouch.bind(this);\n  }\n\n  componentDidMount() {\n    // TODO move this out of componentDidMount\n    const { children, scrollable } = this.props;\n\n    this.setState({\n      pageCount: children.length - 1,\n      scrollable\n    });\n  }\n\n  next() {\n    const { page, pageCount } = this.state;\n\n    if (page !== pageCount) {\n      this.setState({page: page + 1});\n    }\n  }\n\n  previous() {\n    const { page } = this.state;\n\n    if (page !== 0) {\n      this.setState({page: page - 1});\n    }\n  }\n\n  setPage(n) {\n    this.setState({page: n});\n  }\n\n  handleWheel(e) {\n    const { scrollable } = this.props;\n\n    if (scrollable) {\n      if (e.deltaY > 0) {\n        this.next();\n      } else {\n        this.previous();\n      }\n    }\n  }\n\n  handleTouch(e) {\n    const { next, previous } = this;\n\n    touchHandler(\n      e.changedTouches[0].pageX,\n      next,\n      previous\n    );\n  }\n\n  render() {\n    const { fastLinks,\n            fakeLinks,\n            arrowLabels,\n            transitions,\n            children,\n            classes,\n            styles } = this.props;\n    const { page, pageCount } = this.state;\n\n\n    const paginationArray = Array\n      .apply(null, {length: pageCount + 1})\n      .map(Number.call, Number);\n\n    const filler = (\n      <div\n        className={classes.arrowFiller || classes.navArrow}\n        style={styles.arrowFiller || styles.navArrow}>\n        {String.fromCharCode('\\u00a0')}\n      </div>\n    );\n\n    const leftArrow = page === 0 ? filler : (\n      <Arrow\n        className={classes.previousPage}\n        style={styles.previousPage}\n        label={arrowLabels.previous}\n        fakeLink={fakeLinks}\n        onClick={this.previous}/>\n    );\n\n    const rightArrow = page === pageCount ? filler : (\n      <Arrow\n        className={classes.nextPage}\n        style={styles.nextPage}\n        label={arrowLabels.next}\n        fakeLink={fakeLinks}\n        onClick={this.next}/>\n    );\n\n    const pagination = (\n      <span\n        key='react-shift-page-numbers'\n        className={classes.pagination}\n        style={styles.pagination}>\n        {paginationArray.map((n) => {\n          return n === page ? (\n            <a\n              key={`currentPage-${page}`}\n              className={`${classes.pageNumber}-${n} ${classes.currentPage}`}\n              // TODO Implement unique style prop for each page number element\n              style={styles.currentPage}\n              href={fakeLinks ? '#' : null}>\n              {n + 1}\n            </a>\n          ) : (\n            <a\n              key={`page-${n}`}\n              className={classes.pageNumber}\n              style={styles.pageNumber}\n              href={fakeLinks ? '#' : null}\n              onClick={this.setPage.bind(null, n)}>\n              {n + 1}\n            </a>\n          );\n        })}\n      </span>\n    );\n\n    const fastLinksList = fastLinks ? (\n      <div>\n        {Object.keys(fastLinks).map((i, v) => {\n          return (\n            <a\n              key={`fastLink${i}`}\n              className={classes.fastLinks}\n              style={styles.faskLinks}\n              href={fakeLinks ? '#' : null}\n              onClick={this.setPage.bind(null, fastLinks[i])}>\n                {Object.keys(fastLinks)[v]}\n            </a>\n          );\n        })}\n      </div>\n    ) : null;\n\n    return (\n      <div\n        key='react-shift'\n        className={classes.wrapper}\n        style={styles.wrapper}\n        onWheelCapture={this.handleWheel}\n        onTouchMove={this.handconstouch}>\n        <div\n          className={classes.page}\n          style={styles.page}>\n            {transitions ?\n              <ReactCSSTransitionGroup\n                transitionEnterTimeout={300}\n                transitionLeaveTimeout={300}\n                transitionName={transitions.name}>\n                  {children[page]}\n              </ReactCSSTransitionGroup>\n            : children[page]}\n        </div>\n        <nav\n          className={classes.navigation}\n          style={styles.navigation}>\n            {fastLinksList}\n            {leftArrow} {pagination} {rightArrow}\n        </nav>\n      </div>\n    );\n  }\n}\n\nReactShift.propTypes = {\n  children: PropTypes.node.isRequired,\n  classes: PropTypes.shape({\n    wrapper: PropTypes.string,\n    navigation: PropTypes.string,\n    page: PropTypes.string,\n    pagination: PropTypes.string,\n    pageNumber: PropTypes.string,\n    currentPage: PropTypes.string,\n    fastLinks: PropTypes.string,\n    navArrow: PropTypes.string,\n    nextPage: PropTypes.string,\n    previousPage: PropTypes.string\n  }),\n  styles: PropTypes.shape({\n    wrapper: PropTypes.object,\n    navigation: PropTypes.object,\n    page: PropTypes.object,\n    pagination: PropTypes.object,\n    pageNumber: PropTypes.object,\n    currentPage: PropTypes.object,\n    fastLinks: PropTypes.object,\n    navArrow: PropTypes.object,\n    nextPage: PropTypes.object,\n    previousPage: PropTypes.object\n  }),\n  arrowLabels: PropTypes.shape({\n    className: PropTypes.string,\n    next: PropTypes.string,\n    previous: PropTypes.string\n  }),\n  fastLinks: PropTypes.object,\n  transitions: PropTypes.shape({\n    active: PropTypes.bool,\n    name: PropTypes.string\n  }),\n  scrollable: PropTypes.bool\n};\n\nReactShift.defaultProps = {\n  styles: {},\n  arrowLabels: {\n    next: 'Next page',\n    previous: 'Previous page'\n  },\n  fakeLinks: true,\n  // TODO: Fix scrolling problems on mobile devices\n  scrollable: false\n};\n","const position = {\n  right: 0,\n  left: 0,\n  direction: null,\n  clear() {\n    this.right = 0;\n    this.left = 0;\n  }\n};\n\nexport default (e, left, right) => {\n  e = Math.round(e);\n\n  position.direction = null;\n\n  if (e < 450) {\n    position.left += 1;\n    position.right = 0;\n  } else if (e > 550) {\n    position.right += 1;\n    position.left = 0;\n  }\n\n  if (position.left > 4) {\n    position.clear();\n    left();\n    return;\n  }\n\n  if (position.right > 4) {\n    position.clear();\n    right();\n    return;\n  }\n};\n"],"sourceRoot":"/source/"}